"use strict";!function(e,t){function n(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function o(){function n(){return!!document.documentMode&&!e.MutationObserver}var o,i,r={isOldIE:!1,isPhone:!1,isModernBrowser:!1},s=navigator.userAgent.toLowerCase();return r.isOldIE=n(),r.isPhone=function(e){for(var t,n=["mobile","windows phone","android","iphone","ipad","ios","bada","opera mini","opera mobi","blackberry","maemo","symbianos","windows ce","gobrowser","nokiabrowser","ovibrowser","onebrowser","palmos"],o=0,i=n.length;o<i;o++)if(t=n[o],e.toLowerCase().indexOf(t)>-1)return!0;return!1}(s),r.isModernBrowser=(o=!(!Object.seal||!Object.freeze),i=!!(e.Promise&&e.Map&&e.Set&&e.Reflect),o&&i&&t.addEventListener&&e.performance&&"function"==typeof e.performance.now&&!n()),r}function i(){return{_target:null,_conf:{username:"",section:"",message:""},configure:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._conf[t]=e[t])},run:function(){var o=this;n(t,"click",function(e){o._processClick(e)}),n(e,"resize",function(e){o._processResize(e)}),document.documentElement.className+=" sorry-page",function(){if(e.DOT){var t={service:"hp",rus:o._conf.username||""};e.DOT.cfg(t)}}(),function(){if(e.pp_gemius_hit)switch(o._conf.section){case"hp":o._conf.username?e.pp_gemius_hit("cirgu88AfxsCnxkwUuEKWacVHQKgPyNmeGcvEFTmlXb.B7","gA=seznam.cz/homepage_Seznam.cz/Prihlasena_HP"):e.pp_gemius_hit("16BKhuMRa_xyb6CC9zBaO5bfDfygxubkcP9sQZMtpYL.U7","gA=seznam.cz/homepage_Seznam.cz/Neprihlasena_HP");break;case"top-articles":e.pp_gemius_hit("0sI1v67CVS13jThCBi9STWX2.BM19MvLSMm5e.Ce2LL.n7","gA=seznam.cz/homepage_Seznam.cz/nejctenejsi_clanky")}}()},_processClick:function(e){for(var t=e.target||e.srcElement,n=!1;t;){if(t.hasAttribute&&t.hasAttribute("data-fallback")){var o=t.getAttribute?t.getAttribute("data-fallback"):"";n=o&&"0"!==o&&"false"!==o;break}t=t.parentNode}this._removeFallbackWarning(),n&&(this._target=t,e.preventDefault?e.preventDefault():e.returnValue=!1,this._addFallbackWarning())},_processResize:function(){this._target&&this._target.offsetWidth?this._recalcWarningPosition():this._removeFallbackWarning()},_recalcWarningPosition:function(){if(this._target){var n,o,i,r=this._target,s=document.querySelector(".fallback-warning"),a=(n=0,o=0,t.documentElement.scrollTop||t.documentElement.scrollLeft?(n=t.documentElement.scrollLeft,o=t.documentElement.scrollTop):(t.body.scrollTop||t.body.scrollLeft)&&(n=t.body.scrollLeft,o=t.body.scrollTop),{x:n,y:o}),c=r.getBoundingClientRect(),l=a.y+c.bottom+2,u=a.x+c.left+(r.offsetWidth/2-s.offsetWidth/2);u=Math.max(u,8),u=Math.min(u,(i="width",("innerWidth"in e?"width"===i?e.innerWidth:e.innerHeight:"clientWidth"in t.documentElement?"width"===i?t.documentElement.clientWidth:t.documentElement.clientHeight:"clientWidth"in t.body?"width"===i?t.body.clientWidth:t.body.clientHeight:0)-s.offsetWidth-8)),s.style.top=l+"px",s.style.left=u+"px"}},_addFallbackWarning:function(){var e=t.createElement("div");e.innerHTML=this._conf.message,e.className="fallback-warning",t.body.appendChild(e),this._recalcWarningPosition()},_removeFallbackWarning:function(){var e=t.querySelector(".fallback-warning");e&&t.body.removeChild(e),this._target=null}}}function r(){return{_conf:{username:"",abtestName:"",abtestVariation:"",cookies:"",userSettings:null,sorryPage:!1,isObsoleteBrowser:!1},_opened:!1,_containerElm:null,_copyButtonElm:null,_textareaElm:null,_errorElm:null,_unlistenFnc:null,configure:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._conf[t]=e[t]);return this},run:function(){var t=this;n(e,"hashchange",function(){t._checkHash()}),this._checkHash()},_checkHash:function(){var t=e.location.hash;t.length&&"#"===t[0]&&(t=t.substr(1)),"diagnose"!==t&&this._opened&&this._close(),"diagnose"!==t||this._opened||this._open()},_open:function(){this._opened=!0,this._build()},_close:function(){this._opened=!1,this._unbuild()},_build:function(){this._containerElm=t.body.appendChild(t.createElement("div")),this._containerElm.className="hp-diagnose skin-default";var e=0;try{var o=document.querySelector("[data-hybrid-header-height]");e=parseInt(o.getAttribute("data-hybrid-header-height"))||0}catch(e){}this._containerElm.style.paddingTop=e+"px",this._containerElm.innerHTML='<a class="hp-diagnose__overlay" href="#" data-command="ignore-link"></a><div class="hp-diagnose__window"><h2 class="hp-diagnose__title">Diagnostická data</h2><div class="hp-diagnose__select-all-wrap"><button class="button button--submit button--normal-size">Vybrat vše a zkopírovat</button><div class="hp-diagnose__error js-error">Kopírování do schránky selhalo.<br />Okopírujte prosím následující údaje ručně.</div></div><textarea class="hp-diagnose__textarea textarea" readonly>'+this._getDiagnosticString()+'</textarea><a class="button button--submit button--normal-size" href="#" data-command="ignore-link">Zavřít</a></div>',this._copyButtonElm=this._containerElm.querySelector("button"),this._textareaElm=this._containerElm.querySelector("textarea"),this._errorElm=this._containerElm.querySelector(".js-error");var i=this,r=function(){try{i._textareaElm.select(),t.execCommand("copy"),i._errorElm.style.display="none"}catch(e){i._errorElm.style.display="block"}};n(this._copyButtonElm,"click",r),this._unlistenFnc=function(){i._copyButtonElm.removeEventListener("click",r)}},_unbuild:function(){this._containerElm&&(this._unlistenFnc(),this._containerElm.innerHTML="",this._containerElm.parentNode.removeChild(this._containerElm),this._containerElm=null,this._textareaElm=null,this._copyButtonElm=null,this._errorElm=null)},_getDiagnosticString:function(){var n="";n+="Username: "+(this._conf.username||"")+"\n",n+="Sorry page: "+(this._conf.sorryPage?"yes":"no")+"\n",n+="Obsolete browser: "+(this._conf.isObsoleteBrowser?"yes":"no")+"\n",n+="Screen size: "+window.screen.width+"x"+window.screen.height+"\n",n+="Window size: "+window.innerWidth+"x"+window.innerHeight+"\n",n+="\n",n+="UserAgent:\n"+e.navigator.userAgent+"\n\n",n+="Document cookie:\n"+t.cookie+"\n\n",n+="Abtest:\n"+(this._conf.abtestName?this._conf.abtestName+", "+this._conf.abtestVariation:"none")+"\n\n",this._conf.userSettings&&(n+="Settings:\n",n+="Column count: "+this._conf.userSettings.columnCount+"\n",n+="Skin css id: "+this._conf.userSettings.skinCssId+"\n",n+="Formation: "+JSON.stringify(this._conf.userSettings.formation)+"\n",n+="\n");try{if(e.localStorage){var o=e.localStorage.getItem("__hp_debug_last_error");n+=o?"Last error:\n"+o:"No last error."}}catch(e){n+="Není k dispozici localStorage."}return n+="\n\n"}}}e.HP=e.HP||{},e.HP.process={env:{}},e.HP.checkAndMarkAsObsoleteBrowser=function(e){var n=new function(e){this._document=e,this.get=function(e){for(var t=this._document.cookie.split(";"),n=null,o=0;o<t.length;o++){var i=t[o];if(i.split("=")[0].replace(/^\s+|\s+$/g,"")===e){n=decodeURIComponent(i.substr(i.indexOf("=")+1));break}}return n},this.set=function(e,t,n){try{n=n||{};var o=[];for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];"expires"===i&&(r=r.toUTCString()),o.push(i+"="+r)}var s=o.join("; ");this._document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+(s?"; "+s:"")}catch(e){}},this.delete=function(e,t){(t=t||{}).expires=new Date(1),this.set(e,"",t)}}(t),i=!1,r=!o().isModernBrowser,s=!!Number(n.get(e)),a=(new Date).getTime()+2592e5;return!s&&r?(n.set(e,"1",{expires:new Date(a)}),i=!!n.get(e)):s&&r?n.set(e,"1",{expires:new Date(a)}):s&&!r&&n.delete(e),i},e.HP.init={startSorryPage:function(e){var t=e.section,n=e.username,o=e.abtestName,s=e.abtestVariation,a=e.userSettings;r().configure({username:n,abtestName:o,abtestVariation:s,userSettings:a,sorryPage:!0}).run();var c=i();c.configure({section:t,username:n,message:"Je nám líto, ale něco se porouchalo. Zkuste to prosím za chvilku. Pokud to nepomůže, rádi vám <a href='http://napoveda.seznam.cz/cz/services/' class='link'>poradíme</a>."}),c.run()},start:function(n){var s,a,c,l,u,h=n.section,d=n.username,m=n.runFunc,f=n.abtestName,p=n.abtestVariation,_=n.userSettings,g=o(),b=!g.isModernBrowser;if(r().configure({username:d,abtestName:f,abtestVariation:p,userSettings:_,isObsoleteBrowser:b}).run(),!b)try{m()}catch(t){e.console&&e.console.error(t),b=!0}if(b){g.isOldIE&&(s="//1.im.cz/software/promo/promo-sbrowser.js",l=t.createElement("script"),u=!1,c&&(l.onload=l.onreadystatechange=function(e){u||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(u=!0,c(e))}),l.setAttribute("type","text/javascript"),l.setAttribute("src",s),(a||t.body).appendChild(l),t.documentElement.className+=" oldIE");var v=i();g.isPhone?v.configure({section:h,username:d,message:"Je nám líto, ale máte zastaralý operační systém, který si s touto funkcí neporadí. Pokud chcete používat Seznam.cz se vším všudy, je potřeba systém aktualizovat."}):v.configure({section:h,username:d,message:"Je nám líto, ale s tímhle už si váš zasloužilý prohlížeč neporadí. Doporučujeme ho aktualizovat nebo zkusit náš svižný a bezpečný <a href='/prohlizec' class='link'>Seznam.cz</a> prohlížeč, kde vše poběží jako po másle."});var y=document.querySelector("[data-skin-css-id]");"default"!==y.getAttribute("data-skin-css-id")&&(y.href=y.getAttribute("data-default-skin-url")),v.run()}}}}(window,document);
!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(e,t){e.exports={events:{ELEMENT_SELECTED:"ELEMENT_SELECTED",RELATED_HOVERED:"RELATED_HOVERED",RELATED_CLICKED:"RELATED_CLICKED",CHANGE_INNER_TEXT:"CHANGE_INNER_TEXT",CHANGE_ATTRIBUTE:"CHANGE_ATTRIBUTE"}}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";(function(t){e.exports="undefined"==typeof Promise?n(7):t.Promise}).call(this,n(3))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var o="_ifrau-error-object";function i(e){return null!==e&&"object"==typeof e?Array.isArray(e)?function(e){return e.map(i)}(e):function(e){var t=e instanceof Error,n=t?{props:{}}:{};t&&(n.message=e.message,n.name=e.name,n[o]=!0);var r=t?n.props:n;return Object.keys(e).forEach(function(t){var n=i(e[t]);r[t]=n}),n}(e):"function"==typeof e?null:e}function r(e){return null!==e&&"object"==typeof e?Array.isArray(e)?function(e){return e.map(r)}(e):function(e){var t=!0===e[o],n=t?new Error(e.message):{};t&&(n.name=e.name);var i=t?e.props:e;return Object.keys(i).forEach(function(e){var t=r(i[e]);n[e]=t}),n}(e):e}e.exports.ERROR_OBJECT_SENTINEL=o,e.exports.fromError=i,e.exports.toError=r},function(e,t,n){"use strict";e.exports=n(6)},function(e,t,n){"use strict";var o=n(1),i=n(2),r=n(9),s=n(18),a=n(20),u=n(21),c=n(22),l=n(23),f=n(24),d=n(25),h=/^(http:\/\/|https:\/\/)[^\/]+/i;function p(e,t,n){if(!(this instanceof p))return new p(e,t,n);n=n||{};var o=p._tryGetOrigin(t);if(null===o)throw new Error('Unable to extract origin from "'+t+'"');var i=e();if(null===i)throw new Error("Could not find parent node");var h=p._createIFrame(t,n.id,n.height,n.allowFullScreen);i.appendChild(h),r.call(this,h.contentWindow,o,n),this.iframe=h,n.syncLang&&(this.use(u),this.use(c),this.use(l)),this.use(f({page:!!n.syncPageTitle})),n.height||0===n.height||!1===n.resizeFrame||this.use(s),n.syncFont&&this.use(a),n.syncCssVariable&&this.use(d)}o(p,r),p.prototype.connect=function(){var e=this;return new i(function(t){e.onEvent("ready",function(){e._isConnected||t(r.prototype.connect.call(e))}),e.open()})},p._createIFrame=function(e,t,n,o){var i=document.createElement("iframe");return i.width="100%",(n||0===n)&&(i.style.height=n),i.style.border="none",i.style.overflow="hidden",i.scrolling="no",i.src=e,t&&(i.id=t),o&&i.setAttribute("allowfullscreen","allowfullscreen"),i},p._tryGetOrigin=function(e){e&&0===e.indexOf("//")&&(e=window.location.protocol+e);var t=h.exec(e);return null!==t?t[0]:null},e.exports=p},function(e,t,n){"use strict";var o=n(8);function i(){}var r={},s=["REJECTED"],a=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){o(function(){var o;try{o=t(n)}catch(t){return r.reject(e,t)}o===e?r.reject(e,new TypeError("Cannot resolve promise with itself")):r.resolve(e,o)})}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function o(t){n||(n=!0,r.reject(e,t))}function i(t){n||(n=!0,r.resolve(e,t))}var s=p(function(){t(i,o)});"error"===s.status&&o(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}e.exports=c,c.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(i);this.state!==u?f(n,this.state===a?e:t,this.outcome):this.queue.push(new l(n,e,t));return n},l.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){r.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},r.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return r.reject(e,n.value);var o=n.value;if(o)h(e,o);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},r.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,o=e.queue.length;++n<o;)e.queue[n].callRejected(t);return e},c.resolve=function(e){if(e instanceof this)return e;return r.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return r.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,u=-1,c=new this(i);for(;++u<n;)l(e[u],u);return c;function l(e,i){t.resolve(e).then(function(e){s[i]=e,++a!==n||o||(o=!0,r.resolve(c,s))},function(e){o||(o=!0,r.reject(c,e))})}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);var s=-1,a=new this(i);for(;++s<n;)u=e[s],t.resolve(u).then(function(e){o||(o=!0,r.resolve(a,e))},function(e){o||(o=!0,r.reject(a,e))});var u;return a}},function(e,t,n){"use strict";(function(t){var n,o,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var r=0,s=new i(l),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=r=++r%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var u=new t.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;o=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}o=!1}e.exports=function(e){1!==c.push(e)||o||n()}}).call(this,n(3))},function(e,t,n){"use strict";e.exports=n(10)},function(e,t,n){"use strict";var o=n(1),i=n(11),r=/^[a-zA-Z]+[a-zA-Z-]*$/;function s(){if(!(this instanceof s))return new s.apply(this,arguments);i.apply(this,arguments)}o(s,i),s.prototype.getService=function(e,t){if(!this._isConnected)throw new Error("Cannot getService() before connect() has completed");var n="service:"+e+":"+t,o=this;return o.request(n).then(function(e){var t={};return e.forEach(function(e){t[e]=function(e){return function(){var t=new Array(arguments.length+1);t[0]=n+":"+e;for(var i=0;i<arguments.length;++i)t[i+1]=arguments[i];return o.request.apply(o,t)}}(e)}),t})},s.prototype.registerService=function(e,t,n){if(this._isConnected)throw new Error("Register services before connecting");if(!r.test(e))throw new Error('Invalid service type "'+e+'"');var o="service:"+e+":"+t,i=Object.keys(n).filter(function(e){return"function"==typeof n[e]});this.onRequest(o,i);var s=this;return i.forEach(function(e){s.onRequest(o+":"+e,n[e])}),this},e.exports=s},function(e,t,n){"use strict";var o=n(1),i=n(2),r=n(12),s=n(17),a=n(4).fromError,u=n(4).toError;function c(){if(!(this instanceof c))return new c.apply(this,arguments);r.apply(this,arguments),this._pendingRequests={},this._requestHandlers={},this._requestCounter=0,this._waitingRequests=[];var e=this;this._onMessage("req",function(){e._receiveRequest.apply(e,arguments)}),this._onMessage("res",function(){e._receiveRequestResponse.apply(e,arguments)})}o(c,r),c.prototype.request=function(e){for(var t=new Array(arguments.length-1),n=1;n<arguments.length;++n)t[n-1]=arguments[n];var o=this;return new i(function(n,i){var r=++o._requestCounter,s=o._id+"_"+r;function a(){o._sendMessage("req",e,{id:s,args:t})}o._initHashArrAndPush(o._pendingRequests,e,{id:s,resolve:n,reject:i}),o._isConnected?a():o._connectQueue.push(a)})},c.prototype.onRequest=function(e,t){if(this._isConnected)throw new Error("Add request handlers before connecting");if(void 0!==this._requestHandlers[e])throw new Error('Duplicate onRequest handler for type "'+e+'"');return this.debug('onRequest handler added for "'+e+'"'),this._requestHandlers[e]=t,this._sendRequestResponse(e),this},c.prototype._receiveRequest=function(e,t){this._initHashArrAndPush(this._waitingRequests,e,t),this._sendRequestResponse(e)},c.prototype._sendRequestResponse=function(e){var t=this._requestHandlers[e],n=this._waitingRequests[e];if(delete this._waitingRequests[e],void 0!==n&&0!==n.length){var o=this;if(void 0!==t)n.forEach(function(n){i.resolve().then(function(){return"function"==typeof t?t.apply(t,n.args):t}).then(function(t){o._sendMessage("res",e,{id:n.id,val:t})}).catch(function(t){var i=a(t);o._sendMessage("res",e,{id:n.id,err:i})})});else{var r=a(new s(e));n.forEach(function(t){o._sendMessage("res",e,{id:t.id,err:r})})}}},c.prototype._receiveRequestResponse=function(e,t){var n=this._pendingRequests[e];if(void 0!==n)for(var o=0;o<n.length;++o){var i=n[o];if(i.id===t.id){if(t.hasOwnProperty("err")){var r=u(t.err);i.reject(r)}else i.resolve(t.val);return void n.splice(o,1)}}},e.exports=c},function(e,t,n){"use strict";var o=n(13),i=n(2),r=n(16);function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);n=n||{},this._connectQueue=[],this._pluginStartupValues=[],this._debugEnabled=n.debug||!1,this._endpoint=e,this._eventHandlers={},this._isConnected=!1,this._isOpen=!1,this._messageHandlers={},this._onCloseCallbacks=[],this._targetOrigin=t,this._id=o();var i=this;this._onMessage("evt",function(){i._receiveEvent.apply(i,arguments)})}s.prototype.close=function(){if(!this._isOpen)throw new Error("Port cannot be closed, call open() first");this._isOpen=!1,this._isConnected=!1,window.removeEventListener("message",this._receiveMessage),this._onCloseCallbacks.forEach(function(e){e()}),this.debug("closed")},s.prototype.connect=function(){var e=this;return this._isConnected=!0,this.debug("connected"),this._connectQueue.forEach(function(e){e()}),this._connectQueue=[],i.all(this._pluginStartupValues).then(function(){return e._pluginStartupValues=null,e})},s.prototype.debug=function(e){this._debugEnabled&&console.log(e)},s.prototype._initHashArrAndPush=function(e,t,n){void 0===e[t]&&(e[t]=[]),e[t].push(n)},s.prototype.onClose=function(e){this._onCloseCallbacks.push(e)},s.prototype.onEvent=function(e,t){return this.debug('onEvent handler added for "'+e+'"'),this._isConnected&&this.debug("You've attached event handlers after connecting, you may have missed some events"),this._initHashArrAndPush(this._eventHandlers,e,t),this},s.prototype.open=function(){if(this._isOpen)throw new Error("Port is already open.");return this._isOpen=!0,window.addEventListener("message",this._receiveMessage.bind(this),!1),this.debug("opened"),this},s.prototype._receiveMessage=function(e){if(r(this._targetOrigin,this._endpoint,e)){var t=e.data.key.substr(5,3),n=e.data.key.substr(9);this.debug("received "+t+"."+n);var o=this._messageHandlers[t];o&&o.call(this,n,e.data.payload)}},s.prototype._onMessage=function(e,t){if(3!==e.length)throw new Error("message class name must be 3 characters");this._messageHandlers[e]=t},s.prototype._receiveEvent=function(e,t){void 0!==this._eventHandlers[e]&&this._eventHandlers[e].forEach(function(e){e.apply(e,t)})},s.prototype._sendMessage=function(e,t,n){var o={key:"frau."+e+"."+t,payload:n};return this.debug("sending key: "+o.key),this._endpoint.postMessage(o,this._targetOrigin),this},s.prototype.sendEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);if(!this._isConnected){var o=this;return this._connectQueue.push(function(){o._sendMessage("evt",e,t)}),this}return this._sendMessage("evt",e,t)},s.prototype.use=function(e){return this._pluginStartupValues.push(e(this)),this},e.exports=s},function(e,t,n){var o=n(14),i=n(15);e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||o)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[r+a]=s[a];return t||i(s)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);e.exports=function(){return n(o),o}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);e.exports=function(e,t){var o=t||0,i=n;return[i[e[o++]],i[e[o++]],i[e[o++]],i[e[o++]],"-",i[e[o++]],i[e[o++]],"-",i[e[o++]],i[e[o++]],"-",i[e[o++]],i[e[o++]],"-",i[e[o++]],i[e[o++]],i[e[o++]],i[e[o++]],i[e[o++]],i[e[o++]]].join("")}},function(e,t,n){"use strict";function o(e){return!e||0===e.length}e.exports=function(e,t,n){return n.source===t&&("*"===e||!o(e)&&!o(n.origin)&&e.toUpperCase()===n.origin.toUpperCase())&&void 0!==n.data.key&&null!==n.data.key&&0===n.data.key.indexOf("frau.")}},function(e,t,n){"use strict";function o(e){this.name="RequestTypeError",this.message=e?'No onRequest handler for type "'+e+'"':"No handler defined for request"}n(1)(o,Error),e.exports=o},function(e,t,n){"use strict";var o=n(19);e.exports=function(e){var t=!1;e.onEvent("ready",function(){t||(t=!0,o({log:e.debugEnabled,heightCalculationMethod:"max"},e.iframe))}),e.onClose(function(){e.iframe&&e.iframe.iFrameResizer&&e.iframe.iFrameResizer.close(e.iframe)})}},function(e,t,n){var o,i,r;!function(n){"use strict";if("undefined"!=typeof window){var s,a=0,u=!1,c=!1,l="message".length,f="[iFrameSizer]",d=f.length,h=null,p=window.requestAnimationFrame,m={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},g={},y=null,v={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){N("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}},w={};window.jQuery&&((s=window.jQuery).fn?s.fn.iFrameResize||(s.fn.iFrameResize=function(e){return this.filter("iframe").each(function(t,n){D(n,e)}).end()}):T("","Unable to bind to jQuery, it is not fully loaded.")),i=[],(r="function"==typeof(o=U)?o.apply(t,i):o)===n||(e.exports=r),window.iFrameResize=window.iFrameResize||U()}function b(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function E(e,t,n){"addEventListener"in window?e.addEventListener(t,n,!1):"attachEvent"in window&&e.attachEvent("on"+t,n)}function _(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,!1):"detachEvent"in window&&e.detachEvent("on"+t,n)}function R(e){return f+"["+function(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}(e)+"]"}function x(e){return g[e]?g[e].log:u}function C(e,t){k("log",e,t,x(e))}function T(e,t){k("info",e,t,x(e))}function N(e,t){k("warn",e,t,!0)}function k(e,t,n,o){!0===o&&"object"==typeof window.console&&console[e](R(t),n)}function O(e){function t(){n("Height"),n("Width"),L(function(){z(v),F(b),u("resizedCallback",v)},v,"init")}function n(e){var t=Number(g[b]["max"+e]),n=Number(g[b]["min"+e]),o=e.toLowerCase(),i=Number(v[o]);C(b,"Checking "+o+" is in range "+n+"-"+t),i<n&&(i=n,C(b,"Set "+o+" to min value")),i>t&&(i=t,C(b,"Set "+o+" to max value")),v[o]=""+i}function o(e){return y.substr(y.indexOf(":")+l+e)}function i(e,t){var n,o,i;n=function(){var n,o;H("Send Page Info","pageInfo:"+(n=document.body.getBoundingClientRect(),o=v.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:o.height,iframeWidth:o.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(o.top-n.top,10),offsetLeft:parseInt(o.left-n.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})),e,t)},o=32,w[i=t]||(w[i]=setTimeout(function(){w[i]=null,n()},o))}function r(e){var t=e.getBoundingClientRect();return q(b),{x:Math.floor(Number(t.left)+Number(h.x)),y:Math.floor(Number(t.top)+Number(h.y))}}function s(e){var t=e?r(v.iframe):{x:0,y:0},n={x:Number(v.width)+t.x,y:Number(v.height)+t.y};C(b,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):N(b,"Unable to scroll to requested position, window.parentIFrame not found"):(h=n,a(),C(b,"--"))}function a(){!1!==u("scrollCallback",h)?F(b):I()}function u(e,t){return A(b,e,t)}var c,p,m,y=e.data,v={},b=null;"[iFrameResizerChild]Ready"===y?function(){for(var e in g)H("iFrame requested init",P(e),document.getElementById(e),e)}():f===(""+y).substr(0,d)&&y.substr(d).split(":")[0]in g?(m=y.substr(d).split(":"),v={iframe:g[m[0]]&&g[m[0]].iframe,id:m[0],height:m[1],width:m[2],type:m[3]},b=v.id,g[b]&&(g[b].loaded=!0),(p=v.type in{true:1,false:1,undefined:1})&&C(b,"Ignoring init message from meta parent page"),!p&&function(e){var t=!0;return g[e]||(t=!1,N(v.type+" No settings for "+e+". Message was: "+y)),t}(b)&&(C(b,"Received: "+y),c=!0,null===v.iframe&&(N(b,"IFrame ("+v.id+") not found"),c=!1),c&&function(){var t,n=e.origin,o=g[b]&&g[b].checkOrigin;if(o&&""+n!="null"&&!(o.constructor===Array?function(){var e=0,t=!1;for(C(b,"Checking connection is from allowed list of origins: "+o);e<o.length;e++)if(o[e]===n){t=!0;break}return t}():(t=g[b]&&g[b].remoteHost,C(b,"Checking connection is from: "+t),n===t)))throw new Error("Unexpected message received from: "+n+" for "+v.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(g[b]&&g[b].firstRun&&g[b]&&(g[b].firstRun=!1),v.type){case"close":g[b].closeRequestCallback?A(b,"closeRequestCallback",g[b].iframe):S(v.iframe);break;case"message":d=o(6),C(b,"MessageCallback passed: {iframe: "+v.iframe.id+", message: "+d+"}"),u("messageCallback",{iframe:v.iframe,message:JSON.parse(d)}),C(b,"--");break;case"scrollTo":s(!1);break;case"scrollToOffset":s(!0);break;case"pageInfo":i(g[b]&&g[b].iframe,b),function(){function e(e,o){function r(){g[n]?i(g[n].iframe,n):t()}["scroll","resize"].forEach(function(t){C(n,e+t+" listener for sendPageInfo"),o(window,t,r)})}function t(){e("Remove ",_)}var n=b;e("Add ",E),g[n]&&(g[n].stopPageInfo=t)}();break;case"pageInfoStop":g[b]&&g[b].stopPageInfo&&(g[b].stopPageInfo(),delete g[b].stopPageInfo);break;case"inPageLink":e=o(9),c=e.split("#")[1]||"",l=decodeURIComponent(c),(f=document.getElementById(l)||document.getElementsByName(l)[0])?(n=r(f),C(b,"Moving to in page link (#"+c+") at x: "+n.x+" y: "+n.y),h={x:n.x,y:n.y},a(),C(b,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(c):C(b,"In page link #"+c+" not found and window.parentIFrame not found"):C(b,"In page link #"+c+" not found");break;case"reset":j(v);break;case"init":t(),u("initCallback",v.iframe);break;default:t()}var e,n,c,l,f,d}())):T(b,"Ignored: "+y)}function A(e,t,n){var o=null,i=null;if(g[e]){if("function"!=typeof(o=g[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");i=o(n)}return i}function M(e){var t=e.id;delete g[t]}function S(e){var t=e.id;C(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){}A(t,"closedCallback",t),C(t,"--"),M(e)}function q(e){null===h&&C(e,"Get page position: "+(h={x:window.pageXOffset!==n?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==n?window.pageYOffset:document.documentElement.scrollTop}).x+","+h.y)}function F(e){null!==h&&(window.scrollTo(h.x,h.y),C(e,"Set page position: "+h.x+","+h.y),I())}function I(){h=null}function j(e){C(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),q(e.id),L(function(){z(e),H("reset","reset",e.iframe,e.id)},e,"reset")}function z(e){function t(t){c||"0"!==e[t]||(c=!0,C(o,"Hidden iFrame detected, creating visibility listener"),function(){function e(){function e(e){function t(t){return"0px"===(g[e]&&g[e].iframe.style[t])}g[e]&&null!==g[e].iframe.offsetParent&&(t("height")||t("width"))&&H("Visibility change","resize",g[e].iframe,e)}for(var t in g)e(t)}function t(t){C("window","Mutation observed: "+t[0].target+" "+t[0].type),W(e,16)}var n=b();n&&(o=document.querySelector("body"),new n(t).observe(o,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}));var o}())}function n(n){!function(t){e.id?(e.iframe.style[t]=e[t]+"px",C(e.id,"IFrame ("+o+") "+t+" set to "+e[t]+"px")):C("undefined","messageData id not set")}(n),t(n)}var o=e.iframe.id;g[o]&&(g[o].sizeHeight&&n("height"),g[o].sizeWidth&&n("width"))}function L(e,t,n){n!==t.type&&p?(C(t.id,"Requesting animation frame"),p(e)):e()}function H(e,t,n,o,i){var r,s=!1;o=o||n.id,g[o]&&(n&&"contentWindow"in n&&null!==n.contentWindow?(r=g[o]&&g[o].targetOrigin,C(o,"["+e+"] Sending msg to iframe["+o+"] ("+t+") targetOrigin: "+r),n.contentWindow.postMessage(f+t,r)):N(o,"["+e+"] IFrame("+o+") not found"),i&&g[o]&&g[o].warningTimeout&&(g[o].msgTimeout=setTimeout(function(){!g[o]||g[o].loaded||s||(s=!0,N(o,"IFrame has not responded within "+g[o].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))},g[o].warningTimeout)))}function P(e){return e+":"+g[e].bodyMarginV1+":"+g[e].sizeWidth+":"+g[e].log+":"+g[e].interval+":"+g[e].enablePublicMethods+":"+g[e].autoResize+":"+g[e].bodyMargin+":"+g[e].heightCalculationMethod+":"+g[e].bodyBackground+":"+g[e].bodyPadding+":"+g[e].tolerance+":"+g[e].inPageLinks+":"+g[e].resizeFrom+":"+g[e].widthCalculationMethod}function D(e,t){var o,i,r=function(n){var o;return n,""===n&&(e.id=(o=t&&t.id||v.id+a++,null!==document.getElementById(o)&&(o+=a++),n=o),u=(t||{}).log,n,C(n,"Added missing iframe ID: "+n+" ("+e.src+")")),n}(e.id);r in g&&"iFrameResizer"in e?N(r,"Ignored iFrame, already setup."):(!function(t){var n;t=t||{},g[r]={firstRun:!0,iframe:e,remoteHost:e.src.split("/").slice(0,3).join("/")},function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(t),function(e){for(var t in v)v.hasOwnProperty(t)&&(g[r][t]=e.hasOwnProperty(t)?e[t]:v[t])}(t),g[r]&&(g[r].targetOrigin=!0===g[r].checkOrigin?""===(n=g[r].remoteHost)||"file://"===n?"*":n:"*")}(t),function(){switch(C(r,"IFrame scrolling "+(g[r]&&g[r].scrolling?"enabled":"disabled")+" for "+r),e.style.overflow=!1===(g[r]&&g[r].scrolling)?"hidden":"auto",g[r]&&g[r].scrolling){case"omit":break;case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=g[r]?g[r].scrolling:"no"}}(),function(){function t(t){1/0!==g[r][t]&&0!==g[r][t]&&(e.style[t]=g[r][t]+"px",C(r,"Set "+t+" = "+g[r][t]+"px"))}function n(e){if(g[r]["min"+e]>g[r]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}n("Height"),n("Width"),t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}(),"number"!=typeof(g[r]&&g[r].bodyMargin)&&"0"!==(g[r]&&g[r].bodyMargin)||(g[r].bodyMarginV1=g[r].bodyMargin,g[r].bodyMargin=g[r].bodyMargin+"px"),o=P(r),(i=b())&&function(t){e.parentNode&&new t(function(t){t.forEach(function(t){Array.prototype.slice.call(t.removedNodes).forEach(function(t){t===e&&S(e)})})}).observe(e.parentNode,{childList:!0})}(i),E(e,"load",function(){var t,i;H("iFrame.onload",o,e,n,!0),t=g[r]&&g[r].firstRun,i=g[r]&&g[r].heightCalculationMethod in m,!t&&i&&j({iframe:e,height:0,width:0,type:"init"})}),H("init",o,e,n,!0),Function.prototype.bind&&g[r]&&(g[r].iframe.iFrameResizer={close:S.bind(null,g[r].iframe),removeListeners:M.bind(null,g[r].iframe),resize:H.bind(null,"Window resize","resize",g[r].iframe),moveToAnchor:function(e){H("Move to anchor","moveToAnchor:"+e,g[r].iframe,r)},sendMessage:function(e){H("Send Message","message:"+(e=JSON.stringify(e)),g[r].iframe,r)}}))}function W(e,t){null===y&&(y=setTimeout(function(){y=null,e()},t))}function B(e){C("window","Trigger event: "+e),W(function(){$("Window "+e,"resize")},16)}function V(){"hidden"!==document.visibilityState&&(C("document","Trigger event: Visiblity change"),W(function(){$("Tab Visable","resize")},16))}function $(e,t){function n(e){return g[e]&&"parent"===g[e].resizeFrom&&g[e].autoResize&&!g[e].firstRun}for(var o in g)n(o)&&H(e,t,document.getElementById(o),o)}function U(){function e(e,n){n&&(!function(){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">")}(),D(n,e),t.push(n))}var t;return function(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!p;e+=1)p=window[t[e]+"RequestAnimationFrame"];p||C("setup","RequestAnimationFrame not supported")}(),E(window,"message",O),E(window,"resize",function(){B("resize")}),E(document,"visibilitychange",V),E(document,"-webkit-visibilitychange",V),E(window,"focusin",function(){B("focus")}),E(window,"focus",function(){B("focus")}),function(o,i){switch(t=[],function(e){e&&e.enablePublicMethods&&N("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(o),typeof i){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(i||"iframe"),e.bind(n,o));break;case"object":e(o,i);break;default:throw new TypeError("Unexpected data type ("+typeof i+")")}return t}}}()},function(e,t,n){"use strict";e.exports=function(e){e.onRequest("font",function(){var e=window.getComputedStyle(document.body),t=document.body.classList.contains("visual-redesign");return{family:e.fontFamily,size:e.fontSize,visualRedesign:t}})}},function(e,t,n){"use strict";e.exports=function(e){e.onRequest("lang",function(){var e=document.getElementsByTagName("html")[0];return{isRtl:"rtl"===document.dir.toLowerCase(),lang:e.getAttribute("lang"),fallback:e.getAttribute("data-lang-default")}})}},function(e,t,n){"use strict";e.exports=function(e){e.onRequest("intl",function(){var e=document.getElementsByTagName("html");if(1===e.length&&e[0].hasAttribute("data-intl-overrides"))try{return JSON.parse(e[0].getAttribute("data-intl-overrides"))}catch(e){}return{}})}},function(e,t,n){"use strict";e.exports=function(e){e.onRequest("timezone",function(){var e=document.getElementsByTagName("html");if(1===e.length&&e[0].hasAttribute("data-timezone"))try{return JSON.parse(e[0].getAttribute("data-timezone"))}catch(e){}return{identifier:"",name:""}})}},function(e,t,n){"use strict";e.exports=function(e){return e=e||{},function(t){t.onEvent("title",function(n){e.page&&(document.title=n),t.iframe&&(t.iframe.title=n)})}}},function(e,t,n){"use strict";e.exports=function(e){e.onRequest("css-variable",function(){var e=document.getElementsByTagName("html");if(1===e.length&&e[0].hasAttribute("data-css-vars"))try{return JSON.parse(e[0].getAttribute("data-css-vars"))}catch(e){}return{}})}},function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o);function r(e,t){Object.entries(t).forEach(([t,n])=>{e.style[t]=n})}function s(){return`samba-element-${+new Date}`}function a({tagName:e,id:t,styles:n,appendToDocument:o}){const i=document.createElement(e);return i.id=t||s(),r(i,n),o&&document.body.append(i),{id:i.id,getElement:()=>i,show:()=>{i.style.display="block"},hide:()=>{i.style.display="none"},setStyle:e=>{r(i,e)}}}const u=a({tagName:"div",styles:{backgroundColor:"#0000ff1c",border:"1px solid rgba(0, 0, 255, .6)",position:"absolute",display:"none"},appendToDocument:!0});function c(e){u.setStyle({width:e.width+4+"px",height:e.height+4+"px",top:e.top+window.scrollY-2+"px",left:e.left+window.scrollX-2+"px"})}function l(e){return Array.from(e.parentNode.childNodes).indexOf(e)}function f(e,t){if(e.id||"BODY"===e.tagName)return t.push(e.id?`#${e.id}`:"body"),function(e){return[...e].reverse().join(">")}(t);var n=l(e);return t.push(`:nth-child(${n+1})`),f(e.parentElement,t)}function d(e,t){if("BODY"===e.tagName){t.push({tagName:"body",path:"body"});const{paths:e}=[...t].reverse().reduce((e,t)=>{const n=e.lastSelector?e.lastSelector+">"+t.path:t.path;return{lastSelector:n,paths:[...e.paths,{tagName:t.tagName,path:n}]}},{lastSelector:"",paths:[]});return e}var n=l(e);return e.id?t.push({tagName:e.tagName.toLowerCase(),path:`#${e.id}${e.className?"."+e.className:""}`}):t.push({tagName:e.tagName.toLowerCase(),path:`:nth-child(${n+1})`}),d(e.parentElement,t)}function h(e){const t=f(e,[]);return Array.from(e.parentElement.children).map(e=>({tagName:e.tagName,path:f(e,[])})).filter(({path:e})=>e!==t)}function p(e){return Array.from(e.children).map(e=>({tagName:e.tagName,path:f(e,[])}))}function m(e){return{selector:f(e,[]),tagType:e.tagName.toLowerCase(),attributes:Object.values(e.attributes).slice(0,e.attributes.length).map(e=>({attribute:e.name,value:e.value})),parents:d(e.parentElement,[]),children:p(e),siblings:h(e),domRect:e.getBoundingClientRect(),text:e.innerText}}var g=n(5),y=n.n(g);const v=400,w=700,b="1px solid rgb(100, 132, 187)",E=a({tagName:"div",styles:{border:b,height:0,width:"100%",position:"absolute",left:0},appendToDocument:!0}),_=a({tagName:"div",styles:{border:b,height:0,width:"100%",position:"absolute",left:0},appendToDocument:!0}),R=a({tagName:"div",styles:{border:b,height:"100%",width:0,position:"absolute",top:0},appendToDocument:!0}),x=a({tagName:"div",styles:{border:b,height:"100%",width:0,position:"absolute",top:0},appendToDocument:!0});function C(e){const t=e.top+window.scrollY-2+"px",n=e.top+window.scrollY+e.height+2+"px",o=e.left+window.scrollX-2+"px",i=e.left+window.scrollX+e.width+2+"px",r=e.height+6+"px",s=e.width+4+"px";E.setStyle({top:t,width:s,left:o}),_.setStyle({top:n,width:s,left:o}),R.setStyle({left:o,height:r,top:t}),x.setStyle({left:i,height:r,top:t})}var T=e=>{const t=[{messageType:i.a.events.RELATED_HOVERED,callback:function(e){return C(document.querySelector(e).getBoundingClientRect()),!0}},{messageType:i.a.events.RELATED_CLICKED,callback:function(e){const t=m(document.querySelector(e));return o(t.domRect),c(t.domRect),t}},{messageType:i.a.events.CHANGE_INNER_TEXT,callback:function(e,t){const n=document.querySelector(e);n&&(n.innerText=t)}},{messageType:i.a.events.CHANGE_ATTRIBUTE,callback:function(e,t,n){const o=document.querySelector(e);o&&o.setAttribute(t,n)}}],n=function(e,t,n,o){const i=s(),a=new y.a(function(){return document.body},e,{id:i,resizeFrame:!1});o&&o.length&&o.forEach(e=>{a.onRequest(e.messageType,e.callback)}),a.connect().then(function(){console.debug("connected to client")});const u=document.getElementById(i);function c(e){r(u,e)}return u.setAttribute("frameborder","0"),u.setAttribute("width",t.toString()),u.setAttribute("height",n.toString()),u.setAttribute("src",e),c({position:"absolute",display:"none",width:`${t}px`,height:`${n}px`}),{getElement:()=>u,setStyle:c,show:function(){r(u,{display:"block"})},hide:function(){r(u,{display:"none"})},id:i,send:function(e,t){a.sendEvent(e,t)}}}(e,w,v,t);function o({top:e,left:t,right:o,height:i}){window.scrollY+e+i+v<=document.body.scrollHeight?(n.setStyle({top:`${window.scrollY+e+i+5}px`,bottom:"auto"}),window.scrollX+t+w<=document.body.scrollWidth?n.setStyle({left:`${window.scrollX+t-2}px`,right:"auto"}):n.setStyle({left:"auto",right:`${document.body.scrollWidth-o-2}px`})):(n.setStyle({top:"auto",bottom:`${window.scrollY+e-5}px`}),window.scrollX+t+w<=document.body.scrollWidth?n.setStyle({left:`${window.scrollX+t-2}px`,right:"auto"}):n.setStyle({left:"auto",right:`${document.body.scrollWidth-o-2}px`}))}return n.setStyle({borderRadius:"2px"}),{...n,setPosition:o}};function N(e){const t=T(e);function n(e){var n;u.show(),t.show(),c(n=e.domRect),t.setPosition(n)}function o(){u.hide(),t.hide()}return function(e){const r=e.target;if(function(e){return u.id===e.id}(r))o();else{e.stopPropagation(),e.preventDefault();try{const e=m(r);n(e),t.send(i.a.events.ELEMENT_SELECTED,e)}catch(e){console.log(e),o()}}}}function k(e){try{C(e.target.getBoundingClientRect())}catch(e){console.log(e)}}function O(){var e;console.log("SAMBA LIVE! INJECTED :)"),e="http://localhost:5544/element-widget/element-widget.html",document.addEventListener("click",N(e),!0),document.addEventListener("mouseover",k)}O()}]);